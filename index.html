<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MonadDex</title>
  <link rel="icon" href="logo.png" />
  <link rel="stylesheet" href="style.css" />
  <script defer src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script defer src="app.js"></script>
</head>

<body>
  <header class="topbar">
    <div class="topbar__left">
      <img class="brand__logo" src="logo.png" alt="MonadDex" />
      <div class="brand__text">
        <div class="brand__name">MonadDex</div>
        <div class="brand__sub">Permissionless AMM on Monad</div>
      </div>
    </div>

    <div class="topbar__right">
      <div class="chip" id="netChip">Network: <span id="netName">-</span></div>
      <div class="chip" id="acctChip">Wallet: <span id="acctShort">Not connected</span></div>
      <button class="btn btn--ghost" id="btnSwitch">Switch to Monad</button>
      <button class="btn btn--primary" id="btnConnect">Connect</button>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero__title">Swap & Liquidity with MON as default</div>
      <div class="hero__desc">
        Paste any token address on Monad, create a pool, add liquidity, swap, and remove liquidity — all permissionless.
      </div>
    </section>

    <section class="grid">
      <!-- LEFT: TOKEN SELECT + STATUS -->
      <div class="card">
        <div class="card__header">
          <div class="card__title">Token Setup</div>
          <div class="card__hint">MON is always the base coin.</div>
        </div>

        <div class="form">
          <label class="label" for="tokenAddr">Token address (ERC-20 on Monad)</label>
          <div class="row">
            <input id="tokenAddr" class="input" placeholder="0x..." autocomplete="off" />
            <button class="btn btn--ghost" id="btnPaste">Paste</button>
          </div>

          <div class="row row--tight">
            <button class="btn btn--primary" id="btnLoadToken">Load token</button>
            <button class="btn" id="btnCreatePool">Create Pool</button>
          </div>

          <div class="sep"></div>

          <div class="kvs">
            <div class="kv">
              <div class="kv__k">Token</div>
              <div class="kv__v" id="tokenMeta">-</div>
            </div>
            <div class="kv">
              <div class="kv__k">Pair (Token/WMON)</div>
              <div class="kv__v mono" id="pairAddr">-</div>
            </div>
            <div class="kv">
              <div class="kv__k">Reserves</div>
              <div class="kv__v" id="reserves">-</div>
            </div>
            <div class="kv">
              <div class="kv__k">Your LP Balance</div>
              <div class="kv__v" id="lpBal">-</div>
            </div>
          </div>

          <div class="sep"></div>

          <div class="recent">
            <div class="recent__title">Recent tokens</div>
            <div class="recent__list" id="recentList"></div>
          </div>
        </div>
      </div>

      <!-- RIGHT: TABS -->
      <div class="card">
        <div class="tabs">
          <button class="tab tab--active" data-tab="swap">Swap</button>
          <button class="tab" data-tab="liq">Liquidity</button>
        </div>

        <!-- SWAP -->
        <div class="tabpane tabpane--active" id="tab-swap">
          <div class="card__header">
            <div class="card__title">Swap</div>
            <div class="card__hint">Direct 1-hop swaps using existing pools.</div>
          </div>

          <div class="swapbox">
            <div class="swaprow">
              <div class="swaprow__top">
                <div class="swaprow__label">You pay</div>
                <div class="swaprow__asset" id="payAsset">MON</div>
              </div>
              <div class="swaprow__main">
                <input class="input input--big" id="swapIn" placeholder="0.0" inputmode="decimal" />
                <button class="btn btn--ghost btn--mini" id="btnFlip">Flip</button>
              </div>
            </div>

            <div class="swapmid">
              <div class="swapmid__line"></div>
              <div class="swapmid__pill">↓</div>
              <div class="swapmid__line"></div>
            </div>

            <div class="swaprow">
              <div class="swaprow__top">
                <div class="swaprow__label">You receive (est.)</div>
                <div class="swaprow__asset" id="recvAsset">TOKEN</div>
              </div>
              <div class="swaprow__main">
                <input class="input input--big" id="swapOut" placeholder="0.0" inputmode="decimal" disabled />
              </div>
            </div>

            <div class="row row--tight">
              <div class="field">
                <label class="label">Slippage (%)</label>
                <input class="input" id="slippage" value="1" inputmode="decimal" />
              </div>
              <div class="field">
                <label class="label">Deadline (minutes)</label>
                <input class="input" id="deadline" value="20" inputmode="numeric" />
              </div>
            </div>

            <div class="kvs kvs--small">
              <div class="kv">
                <div class="kv__k">Min received</div>
                <div class="kv__v" id="minOut">-</div>
              </div>
              <div class="kv">
                <div class="kv__k">Price impact (rough)</div>
                <div class="kv__v" id="impact">-</div>
              </div>
            </div>

            <button class="btn btn--primary btn--full" id="btnSwap">Swap</button>
            <div class="msg" id="swapMsg"></div>
          </div>
        </div>

        <!-- LIQUIDITY -->
        <div class="tabpane" id="tab-liq">
          <div class="card__header">
            <div class="card__title">Liquidity</div>
            <div class="card__hint">Add or remove liquidity for Token/MON pools.</div>
          </div>

          <div class="liqgrid">
            <div class="liqcard">
              <div class="liqcard__title">Add Liquidity</div>

              <label class="label">Token amount</label>
              <input class="input" id="addTokenAmt" placeholder="0.0" inputmode="decimal" />

              <label class="label">MON amount</label>
              <input class="input" id="addMonAmt" placeholder="0.0" inputmode="decimal" />

              <div class="row row--tight">
                <div class="field">
                  <label class="label">Token min</label>
                  <input class="input" id="addTokenMin" placeholder="0.0" inputmode="decimal" />
                </div>
                <div class="field">
                  <label class="label">MON min</label>
                  <input class="input" id="addMonMin" placeholder="0.0" inputmode="decimal" />
                </div>
              </div>

              <button class="btn btn--primary btn--full" id="btnAddLiq">Add Liquidity</button>
              <div class="msg" id="addMsg"></div>
            </div>

            <div class="liqcard">
              <div class="liqcard__title">Remove Liquidity</div>

              <label class="label">LP amount</label>
              <input class="input" id="remLpAmt" placeholder="0.0" inputmode="decimal" />

              <div class="row row--tight">
                <div class="field">
                  <label class="label">Token out min</label>
                  <input class="input" id="remTokenMin" placeholder="0.0" inputmode="decimal" />
                </div>
                <div class="field">
                  <label class="label">MON out min</label>
                  <input class="input" id="remMonMin" placeholder="0.0" inputmode="decimal" />
                </div>
              </div>

              <button class="btn btn--primary btn--full" id="btnRemoveLiq">Remove Liquidity</button>
              <div class="msg" id="remMsg"></div>
            </div>
          </div>

          <div class="note">
            Tip: If the pool doesn't exist yet, click <b>Create Pool</b> first, then add liquidity.
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="footer__left">
        <span class="mono">Factory:</span> <span class="mono" id="factoryAddrSmall">-</span>
      </div>
      <div class="footer__right">
        <span class="mono">Router:</span> <span class="mono" id="routerAddrSmall">-</span>
      </div>
    </footer>
  </main>
</body>
</html>
